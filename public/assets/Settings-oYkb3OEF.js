import{r as j,$ as V,a0 as B,a1 as D,W as q,j as e,h as o}from"./index-OYdop1FP.js";import{D as A}from"./DashboardLayout-2V8NA-8S.js";import{U as y}from"./upload-BqdF1x88.js";import{S as d}from"./save-BoBVndYK.js";import{U as N}from"./user-CStstmQ6.js";import{E as L}from"./eye-off-Bp6SI37F.js";import{E as _}from"./eye-BVk4yksF.js";import{S as C}from"./store-qjpP4EyE.js";import{L as M}from"./lock-B0msK3Dt.js";import"./Logo-DIka_k_q.js";import"./chevron-down-DuasZ1GO.js";import"./settings-vvn4CTqi.js";import"./layout-dashboard-DXxK-L7L.js";import"./package-Bt9ERok5.js";function se(){var c,u,m,x,p,b,f,h,g;const[l,v]=j.useState("shop"),[i,w]=j.useState(!1),[k,{isLoading:I}]=V(),[S,{isLoading:T}]=B(),{data:s}=D(),{data:t}=q();console.log(s);const z=async r=>{r.preventDefault();const a=new FormData(r.currentTarget),n={fullName:a.get("fullName"),phone:a.get("phone")};try{await k(n).unwrap(),o.success("Profil mis à jour avec succès")}catch{o.error("Erreur lors de la mise à jour du profil")}},E=async r=>{r.preventDefault();const a=new FormData(r.currentTarget),n={user_id:s.userId,business_name:a.get("businessName"),whatsapp:a.get("whatsapp"),website_url:a.get("websiteUrl"),subscription_plan:"basic"};try{await S(n).unwrap(),o.success("Informations de la boutique mises à jour")}catch{o.error("Erreur lors de la mise à jour de la boutique")}},P=[{id:"shop",label:"Ma Boutique",icon:C},{id:"profile",label:"Profil",icon:N},{id:"security",label:"Sécurité",icon:M}];return e.jsxs(A,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Paramètres"}),e.jsx("p",{className:"text-gray-600",children:"Gérez les paramètres de votre boutique"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-2",children:P.map(r=>{const a=r.icon;return e.jsxs("button",{onClick:()=>v(r.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-left ${l===r.id?"bg-[#000435] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(a,{size:20}),e.jsx("span",{className:"font-medium",children:r.label})]},r.id)})})}),e.jsxs("div",{className:"lg:col-span-3",children:[l==="shop"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations de la boutique"}),e.jsxs("form",{className:"space-y-6",onSubmit:E,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo de la boutique"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-24 h-24 bg-[#000435] rounded-xl flex items-center justify-center text-white text-2xl font-bold",children:"MB"}),e.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 border-2 border-[#000435] text-[#000435] rounded-lg hover:bg-[#000435] hover:text-white transition-all",children:[e.jsx(y,{size:18}),"Changer le logo"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom de la boutique"}),e.jsx("input",{type:"text",name:"businessName",defaultValue:(c=t==null?void 0:t.business)==null?void 0:c.business_name,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{rows:4,defaultValue:(u=s==null?void 0:s.shop)==null?void 0:u.description,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de contact"}),e.jsx("input",{type:"email",defaultValue:(m=s==null?void 0:s.user)==null?void 0:m.email,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numéro de téléphone (Appel)"}),e.jsx("input",{type:"tel",name:"phone",required:!0,placeholder:"+257...",defaultValue:(x=s==null?void 0:s.user)==null?void 0:x.phone,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numéro WhatsApp"}),e.jsx("input",{type:"tel",name:"whatsapp",placeholder:"+257...",defaultValue:(p=t==null?void 0:t.business)==null?void 0:p.whatsapp,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Web / Réseau Social"}),e.jsx("input",{type:"url",name:"websiteUrl",placeholder:"https://...",defaultValue:(b=t==null?void 0:t.business)==null?void 0:b.website_url,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse"}),e.jsx("input",{type:"text",defaultValue:"Bujumbura, Burundi",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#000435] text-white px-6 py-3 rounded-full font-medium hover:bg-[#000435]/90 transition-all",children:[e.jsx(d,{size:20}),"Enregistrer les modifications"]})]})]}),l==="profile"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informations personnelles"}),e.jsxs("form",{className:"space-y-6",onSubmit:z,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo de profil"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(N,{size:32,className:"text-gray-400"})}),e.jsxs("button",{type:"button",className:"flex items-center gap-2 px-4 py-2 border-2 border-[#000435] text-[#000435] rounded-lg hover:bg-[#000435] hover:text-white transition-all",children:[e.jsx(y,{size:18}),"Changer la photo"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom complet"}),e.jsx("input",{type:"text",name:"fullName",defaultValue:(f=s==null?void 0:s.user)==null?void 0:f.full_name,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",disabled:!0,defaultValue:(h=s==null?void 0:s.user)==null?void 0:h.email,className:"w-full px-4 py-3 border border-gray-300 rounded-xl bg-gray-50 focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Téléphone"}),e.jsx("input",{type:"tel",name:"phone",defaultValue:(g=s==null?void 0:s.user)==null?void 0:g.phone,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]})]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#000435] text-white px-6 py-3 rounded-full font-medium hover:bg-[#000435]/90 transition-all",children:[e.jsx(d,{size:20}),"Enregistrer les modifications"]})]})]}),l==="security"&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Sécurité"}),e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe actuel"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:i?"text":"password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"}),e.jsx("button",{type:"button",onClick:()=>w(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(L,{size:20}):e.jsx(_,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmer le nouveau mot de passe"}),e.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all"})]}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-[#000435] text-white px-6 py-3 rounded-full font-medium hover:bg-[#000435]/90 transition-all",children:[e.jsx(d,{size:20}),"Mettre à jour le mot de passe"]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Authentification à deux facteurs"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Ajoutez une couche de sécurité supplémentaire à votre compte"}),e.jsx("button",{className:"px-6 py-3 border-2 border-[#000435] text-[#000435] rounded-full font-medium hover:bg-[#000435] hover:text-white transition-all",children:"Activer 2FA"})]})]})]})]})]})}export{se as default};
