import{r as n,X as j,Z as b,j as e,Y as y,L as t,T as v,h as d}from"./index-OYdop1FP.js";import{D as N}from"./DashboardLayout-2V8NA-8S.js";import{H as w}from"./house-DH2xrTUx.js";import{C as c}from"./chevron-right-D6iiIXBw.js";import{P as x}from"./plus-BeFLVBGe.js";import{S as z}from"./search-yFQyLgk4.js";import{F as P}from"./filter-C9JEPFJv.js";import{P as m}from"./package-Bt9ERok5.js";import{E as C}from"./ellipsis-vertical-DZ3OL_Fh.js";import{E as k}from"./eye-BVk4yksF.js";import{S}from"./square-pen-DLvJjRik.js";import{T as A}from"./trash-2-BjRiz3Rx.js";import"./Logo-DIka_k_q.js";import"./user-CStstmQ6.js";import"./chevron-down-DuasZ1GO.js";import"./settings-vvn4CTqi.js";import"./layout-dashboard-DXxK-L7L.js";function Y(){const[a,h]=n.useState(""),[l,p]=n.useState(!1),{data:o,isLoading:u}=j({}),[g]=b(),r=Array.isArray(o)?o:[],f=async s=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce produit ?"))try{await g(s).unwrap(),d.success("Produit supprimé avec succès")}catch{d.error("Erreur lors de la suppression du produit")}};if(u)return e.jsx(y,{});const i=r==null?void 0:r.filter(s=>s.title.toLowerCase().includes(a.toLowerCase()));return e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-6",children:[e.jsxs(t,{to:"/",className:"hover:text-[#000435] flex items-center gap-1",children:[e.jsx(w,{size:14}),"Accueil"]}),e.jsx(c,{size:14}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Mon Compte"}),e.jsx(c,{size:14}),e.jsx("span",{className:"text-[#000435] font-bold",children:"Mes Annonces"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-[#000435] mb-2",children:"Mes Annonces"}),e.jsxs("p",{className:"text-gray-600",children:[r.length," annonces en ligne"]})]}),e.jsxs(t,{to:"/dashboard/products/new",className:"inline-flex items-center gap-2 bg-[#000435] text-white px-6 py-3 rounded-full font-medium hover:bg-[#000435]/90 transition-all shadow-md hover:shadow-lg hover:-translate-y-0.5",children:[e.jsx(x,{size:20}),"Déposer une annonce"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Rechercher dans mes annonces...",value:a,onChange:s=>h(s.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435] focus:border-transparent transition-all outline-none"})]}),e.jsxs("button",{onClick:()=>p(!l),className:"flex items-center justify-center gap-2 px-6 py-3 border-2 border-gray-300 rounded-xl hover:border-[#000435] hover:text-[#000435] transition-all font-medium text-gray-700",children:[e.jsx(P,{size:20}),"Filtrer"]})]}),l&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435]",children:[e.jsx("option",{children:"Toutes les catégories"}),e.jsx("option",{children:"Électronique"}),e.jsx("option",{children:"Mode"}),e.jsx("option",{children:"Maison"})]}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435]",children:[e.jsx("option",{children:"Tous les statuts"}),e.jsx("option",{children:"Actif"}),e.jsx("option",{children:"Inactif"}),e.jsx("option",{children:"Rupture de stock"})]}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-[#000435]",children:[e.jsx("option",{children:"Trier par: Plus récent"}),e.jsx("option",{children:"Prix: Croissant"}),e.jsx("option",{children:"Prix: Décroissant"}),e.jsx("option",{children:"Plus de ventes"})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i==null?void 0:i.map(s=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-shadow group",children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[s!=null&&s.media?e.jsx("img",{src:v(s),alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-300",children:e.jsx(m,{size:40})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold shadow-sm ${s.stock>0?"bg-white text-green-700":"bg-red-50 text-red-700"}`,children:s.stock>0?"En ligne":"Indisponible"})}),e.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"bg-white rounded-full shadow-lg p-1.5 cursor-pointer hover:bg-gray-50",children:e.jsx(C,{size:16,className:"text-gray-600"})})})]}),e.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[e.jsx("div",{className:"mb-1",children:e.jsxs("span",{className:"text-[10px] uppercase tracking-wide font-semibold text-gray-500",children:["Catégorie ",s.category_id]})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 line-clamp-1 text-base",children:s.title}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("p",{className:"text-lg font-bold text-[#000435]",children:[s.price," ",s.currency]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 font-medium bg-gray-100 px-2 py-1 rounded-full",children:[e.jsx(k,{size:12}),s.views||0," vues"]})]}),e.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100",children:[e.jsxs(t,{to:`/dashboard/products/${s.listings_id}/edit`,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-[#000435] text-white rounded-full hover:bg-[#000435]/90 transition-all font-medium text-sm shadow-sm",children:[e.jsx(S,{size:14}),"Modifier"]}),e.jsx("button",{onClick:()=>f(s.listings_id),className:"p-2 border border-red-100 text-red-500 rounded-full hover:bg-red-50 hover:border-red-200 transition-all",title:"Supprimer",children:e.jsx(A,{size:16})})]})]})]})]},s.listings_id))}),r.length===0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-12 text-center",children:[e.jsx(m,{size:64,className:"mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Aucun produit"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par ajouter votre premier produit"}),e.jsxs(t,{to:"/dashboard/products/new",className:"inline-flex items-center gap-2 bg-[#000435] text-white px-6 py-3 rounded-full font-medium hover:bg-[#000435]/90 transition-all",children:[e.jsx(x,{size:20}),"Ajouter un produit"]})]})]})}export{Y as default};
