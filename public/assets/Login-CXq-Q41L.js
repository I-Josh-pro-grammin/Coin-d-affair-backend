import{r as a,g,d as S,j as e,L as r,h as n}from"./index-OYdop1FP.js";import{I as v,B as C}from"./input-BZgoSqEo.js";import{C as E}from"./checkbox-DZ_xN3Zz.js";import{A}from"./arrow-left-BpvZiPKE.js";import{M as L}from"./mail-CHLPCqjR.js";import{L as M}from"./lock-B0msK3Dt.js";import{E as q}from"./eye-off-Bp6SI37F.js";import{E as B}from"./eye-BVk4yksF.js";import"./index-Da_32CCm.js";import"./check-BwX5OWL_.js";const O=()=>{const[o,j]=a.useState(""),[c,N]=a.useState(""),[i,y]=a.useState(!1),[m,d]=a.useState(!1),{login:w}=g();g();const l=S(),[x,u]=a.useState(null),k=async t=>{var h,p,b;t.preventDefault(),d(!0),u(null);try{const s=await w({email:o,password:c});n.success("Connexion réussie"),s.account_type==="admin"?l("/admin",{replace:!0}):s.account_type==="business"?l("/dashboard",{replace:!0}):l("/",{replace:!0})}catch(s){if((s==null?void 0:s.status)===403||((h=s==null?void 0:s.data)==null?void 0:h.isVerified)===!1){const z=((p=s==null?void 0:s.data)==null?void 0:p.message)||"Veuillez vérifier votre email avant de vous connecter.";n.error(z),l(`/auth/verify-required?email=${encodeURIComponent(o)}`);return}const f=((b=s==null?void 0:s.data)==null?void 0:b.message)||(s==null?void 0:s.error)||(s==null?void 0:s.message)||"Une erreur est survenue lors de la connexion.";u(f),n.error(f),d(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white md:grid md:grid-cols-2",children:[e.jsxs("div",{className:"hidden md:flex flex-col justify-between bg-[#000435] p-12 text-white relative overflow-hidden",children:[e.jsx("div",{className:"relative z-10",children:e.jsx(r,{to:"/",className:"inline-block hover:opacity-90 transition-opacity",children:e.jsx("h1",{className:"text-3xl font-bold font-poppins text-white",children:"Akaguriro"})})}),e.jsxs("div",{className:"relative z-10 max-w-lg",children:[e.jsx("h2",{className:"text-4xl font-bold mb-6 font-poppins leading-tight",children:"La référence des bonnes affaires au Burundi"}),e.jsx("p",{className:"text-blue-100 text-lg leading-relaxed",children:"Rejoignez notre communauté grandissante d'acheteurs et de vendeurs. Trouvez tout ce dont vous avez besoin au meilleur prix, ou vendez ce que vous n'utilisez plus."})]}),e.jsxs("div",{className:"relative z-10 text-sm text-blue-200",children:["© ",new Date().getFullYear()," Akaguriro. Tous droits réservés."]}),e.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-[40rem] h-[40rem] bg-blue-600 rounded-full opacity-10 blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-[30rem] h-[30rem] bg-indigo-600 rounded-full opacity-10 blur-3xl"})]}),e.jsx("div",{className:"flex flex-col justify-center px-4 py-8 md:px-12 lg:px-24 xl:px-32 bg-gray-50/50",children:e.jsxs("div",{className:"w-full max-w-sm mx-auto",children:[e.jsxs("div",{className:"mb-8 md:mb-12",children:[e.jsxs(r,{to:"/",className:"inline-flex items-center text-gray-500 hover:text-[#000435] transition-colors mb-6 md:absolute md:top-8 md:right-8",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Retour"]}),e.jsx("div",{className:"md:hidden text-center mb-8",children:e.jsx(r,{to:"/",className:"inline-block",children:e.jsx("h1",{className:"logo-text text-3xl",children:"Akaguriro"})})}),e.jsx("h2",{className:"text-3xl font-bold font-poppins text-gray-900 mb-2",children:"Bon retour !"}),e.jsx("p",{className:"text-gray-600",children:"Heureux de vous revoir. Veuillez saisir vos coordonnées."})]}),x&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 animate-in fade-in slide-in-from-top-2",children:e.jsx("p",{className:"text-center text-sm text-red-600 font-medium",children:x})}),e.jsxs("form",{onSubmit:k,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse e-mail"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(v,{type:"email",value:o,onChange:t=>j(t.target.value),placeholder:"votre@email.com",className:"pl-10 search-input bg-white",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(v,{type:i?"text":"password",value:c,onChange:t=>N(t.target.value),placeholder:"Mot de passe",className:"pl-10 pr-10 search-input bg-white",required:!0}),e.jsx("button",{type:"button",onClick:()=>y(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:i?e.jsx(q,{className:"h-4 w-4"}):e.jsx(B,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(E,{id:"remember",className:"mt-0"}),e.jsx("label",{htmlFor:"remember",className:"text-gray-600 cursor-pointer",children:"Se souvenir de moi"})]}),e.jsx(r,{to:"/auth/forgot-password",className:"text-[#000435] hover:underline font-medium",children:"Mot de passe oublié?"})]}),e.jsx(C,{type:"submit",className:"w-full bg-[#000435] hover:bg-[#000435]/90 text-white h-11 text-base shadow-lg hover:shadow-xl transition-all duration-300",disabled:m,children:m?"Connexion...":"Se connecter"})]}),e.jsx("div",{className:"mt-8 text-center text-sm md:text-base",children:e.jsxs("p",{className:"text-gray-600",children:["Pas encore de compte?"," ",e.jsx(r,{to:"/auth/role-selection",className:"text-[#000435] hover:text-[#000435]/80 font-bold transition-colors",children:"Commencer ici"})]})})]})})]})};export{O as default};
